// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs
Table Отделы {
  Отдел varchar [primary key]
  Количество_сотрудников bigint
  Руководитель bigint [note: 'Номер сотрудника']
}

Table Планы_расходов {
  Отдел varchar [primary key]
  Статья_расхода varchar [primary key]
  План_руб decimal
}

Table Сотрудники_отделов {
  Отдел varchar
  Номер_работника varchar [primary key]
  Должность varchar
  Зарплата decimal
}

Table Личная_информация_сотрудников {
  Номер_работника varchar [primary key]
  Возраст int
  Фамилия varchar
  Имя varchar
  Отчество varchar
  Пол char
  Серия_паспорта varchar
  Номер_паспорта varchar
}

Table Склад_сырья {
  Отдел varchar [primary key]
  Поставщик varchar
  Сырье varchar [primary key]
  Количество bigint
}

Table Склад_артефактов {
  Отдел varchar [primary key]
  Наименование_артефакта varchar [primary key]
  Количество bigint
}

Table Производимые_артефакты {
  Отдел varchar [primary key]
  Наименование_артефакта varchar [primary key]
  Количество_в_мес bigint
  Комментарий text
}

Table Оборудование_отделов {
  Отдел varchar [primary key]
  Тип_оборудования varchar
  Модель varchar
  Количество bigint
  Стоимость_1_штуки decimal
}

Table Планы_по_доходу_от_заказчиков {
  Заказчик integer [primary key]
  Наименование_артефакта varchar
  Колличество bigint
  Стоимость_доставки decimal
  Сумма_прибыли decimal
}

Table Заказчики {
  Заказчик varchar [primary key]
  Юр_лицо varchar
  Город varchar
  Сфера_деятельности varchar
  Контактный_номер varchar
  Контактное_лицо varchar
}

Table Поставщики {
  Поставщик varchar [primary key]
  Юр_лицо varchar
  Город varchar
  Сфера_деятельности varchar
  Контактный_номер varchar
  Контактное_лицо varchar
}

Table Цены_на_сырье_от_поставщиков {
  Поставщик varchar [primary key]
  Сырье varchar [primary key]
  Цена_руб_ед decimal
  Минимальное_количество bigint
  Цена_доставки_за_1_ед decimal
}

Table Денежные_счета_отделов {
  Номер_счета varchar [primary key]
  Отдел varchar
  Баланс decimal
}

Table Доходы_денежных_средств_от_инвесторов {
  Инвестор varchar [primary key]
  Номер_счета varchar [primary key]
  Дата_поступления date
  Цель_прихода varchar
  Сумма_прихода decimal
}

Table Инвесторы {
  Инвестор varchar [primary key]
  ИНН varchar
  Номер_документа varchar
  Дата_заключения_договора date
  Дата_расторжения_договора date
  Процент_от_фирмы double
}

Table Аутсорсинг {
  Компания varchar [primary key]
  ИНН varchar
  Сфера_деятельности varchar
  Плата_руб_мес decimal
}

Table Документооборот {
  Номер_документа bigint [primary key]
  Тип_документа varchar
  Название varchar
  Дата_создания date
  Дата_публикации date
}

Table Дополнительные_выплаты_сотрудникам {
  Номер_сотрудника bigint [primary key]
  Причина_выплаты varchar
  Сумма decimal
}


Ref: Отделы.Отдел < Планы_расходов.Отдел // one-to-many
Ref: Отделы.Отдел < Сотрудники_отделов.Отдел
Ref: Отделы.Отдел < Склад_сырья.Отдел
Ref: Отделы.Отдел < Склад_артефактов.Отдел
Ref: Отделы.Отдел < Производимые_артефакты.Отдел
Ref: Отделы.Отдел < Оборудование_отделов.Отдел
Ref: Производимые_артефакты.Наименование_артефакта - Склад_артефактов.Наименование_артефакта
Ref: Производимые_артефакты.Наименование_артефакта < Планы_по_доходу_от_заказчиков.Наименование_артефакта
Ref: Сотрудники_отделов.Номер_работника - Личная_информация_сотрудников.Номер_работника


Ref: "Заказчики"."Заказчик" < "Планы_по_доходу_от_заказчиков"."Заказчик"
Ref: "Поставщики"."Поставщик" < "Цены_на_сырье_от_поставщиков"."Поставщик"
Ref: "Цены_на_сырье_от_поставщиков"."Сырье" < "Склад_сырья"."Сырье"
Ref: "Поставщики"."Поставщик" < "Склад_сырья"."Поставщик"
Ref: "Отделы"."Отдел" < "Денежные_счета_отделов"."Отдел"
Ref: "Денежные_счета_отделов"."Номер_счета" < "Доходы_денежных_средств_от_инвесторов"."Номер_счета"
Ref: "Инвесторы"."Инвестор" < "Доходы_денежных_средств_от_инвесторов"."Инвестор"
Ref: "Документооборот"."Номер_документа" - "Инвесторы"."Номер_документа"

Ref: "Сотрудники_отделов"."Номер_работника" < "Дополнительные_выплаты_сотрудникам"."Номер_сотрудника"